# v1.9.0

## パッケージダウンロード

### 回転数<a id="rpm"></a>

サイプレス・パッケージ

- [kcnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-v1.9.0-0.el7.x86_64.rpm)
- [kend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-v1.9.0-0.el7.x86_64.rpm)

バオバブ・パッケージ

- [kcnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-baobab-v1.9.0-0.el7.x86_64.rpm)

共通パッケージ

- [kscnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kscnd-v1.9.0-0.el7.x86_64.rpm)
- [kspnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kspnd-v1.9.0-0.el7.x86_64.rpm)
- [ksend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/ksend-v1.9.0-0.el7.x86_64.rpm)
- [kbnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kbnd-v1.9.0-0.el7.x86_64.rpm)
- [kgen-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0.el7.x86_64.rpm)
- [homi-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0.el7.x86_64.rpm)

### リナックス<a id="linux"></a>

サイプレス・パッケージ

- [kcn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-linux-amd64.tar.gz)
- [ken-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-linux-amd64.tar.gz)

バオバブ・パッケージ

- [kcn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-linux-amd64.tar.gz)

共通パッケージ

- [kscn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-linux-amd64.tar.gz)
- [kspn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-linux-amd64.tar.gz)
- [ksen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-linux-amd64.tar.gz)
- [kbn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-linux-amd64.tar.gz)
- [kgen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-linux-amd64.tar.gz)
- [homi-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-linux-amd64.tar.gz)

### マックオス<a id="macos"></a>

サイプレス・パッケージ

- [kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-darwin-10.10-amd64.tar.gz)

バオバブ・パッケージ

- [kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)

共通パッケージ

- [kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-darwin-10.10-amd64.tar.gz)

### ウィンドウズ<a id="windows"></a>

- 未対応

## リリースノート

Klaytn v1.9.0にはプロトコルのアップグレードが含まれており、イーサリアムのハードワークのような後方互換性のない変更が生じます。 したがって、すべてのBaobab/Cypressノードは、ターゲットブロック番号の前にv1.9.0以上にアップグレードする必要がある。 ハードフォークの名前は『マグマ』。 ハードフォークには、[KIP71](https://kips.klaytn.foundation/KIPs/kip-71)で提案された動的ガス価格メカニズムの実装が含まれている。

予定されているハードフォーク・スケジュールは以下の通り：
マグマ・ハードフォークのブロック番号と予定日

- バオバブ98347376\` 8月8日 午前11時00分 (UTC+9)
- サイプレス99841497\` 8月29日 午前11時00分 (UTC+9)

注：このバージョンは、スナップショット同期をサポートするためにデータベースのバージョンを更新します。 v1.9.0にアップデート後、既存のデータで旧バージョンにダウングレードすることはできません。

注：スナップショット同期はこのバージョンに搭載されていますが、デフォルトではまだ有効になっていません。 状態スナップショットは、正しく同期するためにリモートピアで生成されるべきですが、まだ準備ができていません。 手動でスナップショットの同期を有効にするには、--syncmode snap\`を使用しますが、数週間後に適切なピアを見つけてしまうことをご承知おきください。 この機能は現時点では実験的なものだ。

## プロトコルのアップグレード（ハードフォーク）の特徴

- ダイナミック・ガス価格メカニズムの導入（#1442 #1452 #1493 #1501 #1518 #1519 #1530 #1537 #1538）
- 動的ガス機構をサポートするAPIを実装 (#1520)
    - `klay_upperBoundGasPrice`はダイナミックガス価格の最大値を返す
    - `klay_lowerBoundGasPrice`はダイナミックガス価格の最小値を返す
- Magamaのハードフォーク後、`klay_gasPrice`を更新し、`2 * currentBlock.baseFee`を提案するようにしました。

### 新機能

- スナップショット同期を開発 (#1434 #1435 #1441 #1443 #1450 #1451 #1455 #1456 #1457 #1469 #1473 #1524)

### 改善点

- 異なるchangeSetサイズを持つブロックヘッダを無効化しました(#1220)。
- ブロック生成間の動的な待ち時間を追加 (#1340)
- callTracerとfastCallTracerを更新し、SELFDESTRUCT操作についてより分かりやすくしました (#1343)。
- BadBlockの処理ロジックをリファクタリングし、データベースに保存するように修正 (#1371)
- 料金委任TXのtxpool検証ロジックが強化されました (#1372)
- rlpパッケージの導入およびrlp関連ロジックの更新 (#1385)
- `klay_call`、`klay_estimateGas`に詳細な差し戻しメッセージを追加しました。
- Supported daemon execution using Docker with kpn, kcn and kbn \*#1476)
- バイナリバージョンを表示するための定数メトリックを追加 (#1488)

### 修正

- トレーサー内部でのインスタンス失敗を修正 (#1352)
- HandleGovernanceVoteでcheckVote()が失敗した場合に投票を削除しました(#1367)。
- multiChannelPeerのReadMsgループが閉じたchを即座に読み込むように修正 (#1389)
- トランザクションのソートにおいて、バッファオーバーランの可能性があった問題を修正 (#1398)
- サービスチェーンに関連する同時実行APIコールのバグを修正 (#1438)
- バリデータが6人以下の場合に必要なコンセンサスメッセージを増やした (#1462)
- GetStakingInfoの結果に欠けていたGiniフィールドを追加しました。
- スナップショットに関連するapiの誤ったリターンを修正 (#1468)
- 価格フィールドのないトランザクションへの無料DoCallを修正 (#1540)
- トレーサー出力変換ロジックの検証を強化 (#1549)

### その他

- 軽整備（#766 #1157 #1227 #1316 #1362 #1500 #1515）
