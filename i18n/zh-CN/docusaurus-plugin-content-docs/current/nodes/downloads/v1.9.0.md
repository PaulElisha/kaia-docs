# v1.9.0

## 软件包下载

### 转速<a id="rpm"></a>

赛普拉斯套餐

- [kcnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-v1.9.0-0.el7.x86_64.rpm)
- [kend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-v1.9.0-0.el7.x86_64.rpm)

猴面包树套餐

- [kcnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-baobab-v1.9.0-0.el7.x86_64.rpm)

通用软件包

- [kscnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kscnd-v1.9.0-0.el7.x86_64.rpm)
- [kspnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kspnd-v1.9.0-0.el7.x86_64.rpm)
- [ksend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/ksend-v1.9.0-0.el7.x86_64.rpm)
- [kbnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kbnd-v1.9.0-0.el7.x86_64.rpm)
- [kgen-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0.el7.x86_64.rpm)
- [homi-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0.el7.x86_64.rpm)

### 利纳克斯<a id="linux"></a>

赛普拉斯套餐

- [kcn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-linux-amd64.tar.gz)
- [ken-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-linux-amd64.tar.gz)

猴面包树套餐

- [kcn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-linux-amd64.tar.gz)

通用软件包

- [kscn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-linux-amd64.tar.gz)
- [kspn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-linux-amd64.tar.gz)
- [ksen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-linux-amd64.tar.gz)
- [kbn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-linux-amd64.tar.gz)
- [kgen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-linux-amd64.tar.gz)
- [homi-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-linux-amd64.tar.gz)

### MacOS<a id="macos"></a>

赛普拉斯套餐

- [kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-darwin-10.10-amd64.tar.gz)

猴面包树套餐

- [kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)

通用软件包

- [kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-darwin-10.10-amd64.tar.gz)

### 视窗<a id="windows"></a>

- 尚未支持

## 发布说明

Klaytn v1.9.0 包含一个协议升级，会导致向后不兼容的更改，如以太坊硬叉。 因此，所有 Baobab/Cypress 节点都必须在目标区块编号之前升级到 v1.9.0 或更高版本。 硬叉的名字叫 "岩浆"。 硬分叉包含 [KIP71](https://kips.klaytn.foundation/KIPs/kip-71) 中建议的动态天然气价格机制的实现。

计划的硬叉时间表如下：
岩浆硬叉区块编号和预计日期

- Baobab：`98347376` 8 月 8 日上午 11:00 (UTC+9)
- 赛普拉斯`99841497` 8月29日上午11:00（世界协调时+9

注意：该版本更新了数据库版本，以支持快照同步。 更新到 v1.9.0 后，您不能使用现有数据降级到旧版本。

注意：快照同步已在此版本上发布，但尚未作为默认设置启用。 状态快照应在远程对等设备上生成，以便正常同步，但目前还没有准备好。 您可以使用 `--syncmode snap` 手动启用快照同步，但需要注意的是，我们希望它能在几周后找到合适的同行。 这项功能目前只是试验性的。

## 协议升级（硬叉）功能

- 实施动态天然气价格机制（#1442 #1452 #1493 #1501 #1518 #1519 #1530 #1537 #1538）
- 实现了支持动态气体机制的应用程序接口（#1520）
    - klay_upperBoundGasPrice "返回动态天然气价格的最大值
    - klay_lowerBoundGasPrice "返回动态天然气价格的最小值
- 更新了 `klay_gasPrice` 以在 Magama 硬叉后建议使用 `2 * currentBlock.baseFee` (#1534)

### 新功能

- 已开发快照同步（#1434 #1435 #1441 #1443 #1450 #1451 #1455 #1456 #1457 #1469 #1473 #1524）

### 改进

- 使具有不同更改集大小的区块头无效 (#1220)
- 添加了区块生成之间的动态等待时间（#1340）
- 更新了 callTracer 和 fastCallTracer，使其对 SELFDESTRUCT 操作更具描述性 (#1343)
- 重构了 BadBlock 处理逻辑，将其存储在数据库中 (#1371)
- 增强了收费授权 tx 的 txpool 验证逻辑 (#1372)
- 引入 rlp 软件包并更新 rlp 相关逻辑 (#1385)
- 在 `klay_call`、`klay_estimateGas` 中添加了细节还原信息 (#1408)
- 支持使用 kpn、kcn 和 kbn 的 Docker 执行守护进程 \*#1476)
- 已添加用于显示二进制版本的常量指标（#1488）

### 修复

- 修正了跟踪器，以处理内部 Insta 失败 (#1352)
- 在 HandleGovernanceVote 中 checkVote() 失败时删除投票 (#1367)
- 修正了 multiChannelPeer ReadMsg 循环，以立即读取已关闭的通道（#1389）
- 修正了事务排序中可能出现的缓冲区溢出问题 (#1398)
- 修复了与服务链相关的并发 API 调用错误 (#1438)
- 增加六个或更少验证者所需的共识信息 (#1462)
- 将缺失的基尼字段填入 GetStakingInfo 结果 (#1464)
- 修正了快照相关 api 的错误返回 (#1468)
- 修正了免费呼叫无价格字段的交易的 DoCall (#1540)
- 增强了跟踪器输出转换逻辑的验证（#1549）

### 杂项

- 小规模维修（#766 #1157 #1227 #1316 #1362 #1500 #1515）
