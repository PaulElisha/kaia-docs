# v1.9.0

## 軟件包下載

### 轉速<a id="rpm"></a>

賽普拉斯套餐

- [kcnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-v1.9.0-0.el7.x86_64.rpm)
- [kend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-v1.9.0-0.el7.x86_64.rpm)

猴麵包樹套餐

- [kcnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kcnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kpnd-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kpnd-baobab-v1.9.0-0.el7.x86_64.rpm)
- [kend-baobab-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kend-baobab-v1.9.0-0.el7.x86_64.rpm)

通用軟件包

- [kscnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kscnd-v1.9.0-0.el7.x86_64.rpm)
- [kspnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kspnd-v1.9.0-0.el7.x86_64.rpm)
- [ksend-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/ksend-v1.9.0-0.el7.x86_64.rpm)
- [kbnd-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kbnd-v1.9.0-0.el7.x86_64.rpm)
- [kgen-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0.el7.x86_64.rpm)
- [homi-v1.9.0-0.el7.x86_64.rpm](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0.el7.x86_64.rpm)

### 利納克斯<a id="linux"></a>

賽普拉斯套餐

- [kcn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-linux-amd64.tar.gz)
- [ken-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-linux-amd64.tar.gz)

猴麵包樹套餐

- [kcn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-linux-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-linux-amd64.tar.gz)

通用軟件包

- [kscn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-linux-amd64.tar.gz)
- [kspn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-linux-amd64.tar.gz)
- [ksen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-linux-amd64.tar.gz)
- [kbn-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-linux-amd64.tar.gz)
- [kgen-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-linux-amd64.tar.gz)
- [homi-v1.9.0-0-linux-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-linux-amd64.tar.gz)

### MacOS<a id="macos"></a>

賽普拉斯套餐

- [kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-v1.9.0-0-darwin-10.10-amd64.tar.gz)

猴麵包樹套餐

- [kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kcn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kpn-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ken-baobab-v1.9.0-0-darwin-10.10-amd64.tar.gz)

通用軟件包

- [kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kscn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kspn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/ksen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kbn-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/kgen-v1.9.0-0-darwin-10.10-amd64.tar.gz)
- [homi-v1.9.0-0-darwin-10.10-amd64.tar.gz](https://packages.klaytn.net/klaytn/v1.9.0/homi-v1.9.0-0-darwin-10.10-amd64.tar.gz)

### 視窗<a id="windows"></a>

- 尚未支持

## 發佈說明

Klaytn v1.9.0 包含一個協議升級，會導致向後不兼容的更改，如以太坊硬叉。 因此，所有 Baobab/Cypress 節點都必須在目標區塊編號之前升級到 v1.9.0 或更高版本。 硬叉的名字叫 "岩漿"。 硬分叉包含 [KIP71](https://kips.klaytn.foundation/KIPs/kip-71) 中建議的動態Gas 價格機制的實現。

計劃的硬叉時間表如下：
岩漿硬叉區塊編號和預計日期

- Baobab：`98347376` 8 月 8 日上午 11:00 (UTC+9)
- 賽普拉斯`99841497` 8月29日上午11:00（世界協調時+9

注意：該版本更新了數據庫版本，以支持快照同步。 更新到 v1.9.0 後，您不能使用現有數據降級到舊版本。

注意：快照同步已在此版本上發佈，但尚未作為默認設置啟用。 狀態快照應在遠程對等設備上生成，以便正常同步，但目前還沒有準備好。 您可以使用 `--syncmode snap` 手動啟用快照同步，但需要注意的是，我們希望它能在幾周後找到合適的同行。 這項功能目前只是試驗性的。

## 協議升級（硬叉）功能

- 實施動態Gas 價格機制（#1442 #1452 #1493 #1501 #1518 #1519 #1530 #1537 #1538）
- 實現了支持動態氣體機制的應用程序接口（#1520）
    - klay_upperBoundGasPrice "返回動態Gas 價格的最大值
    - klay_lowerBoundGasPrice "返回動態Gas 價格的最小值
- 更新了 `klay_gasPrice` 以在 Magama 硬叉後建議使用 `2 * currentBlock.baseFee` (#1534)

### 新功能

- 已開發快照同步（#1434 #1435 #1441 #1443 #1450 #1451 #1455 #1456 #1457 #1469 #1473 #1524）

### 改進

- 使具有不同更改集大小的區塊頭無效 (#1220)
- 添加了區塊生成之間的動態等待時間（#1340）
- 更新了 callTracer 和 fastCallTracer，使其對 SELFDESTRUCT 操作更具描述性 (#1343)
- 重構了 BadBlock 處理邏輯，將其存儲在數據庫中 (#1371)
- 增強了收費授權 tx 的 txpool 驗證邏輯 (#1372)
- 引入 rlp 軟件包並更新 rlp 相關邏輯 (#1385)
- 在 `klay_call`、`klay_estimateGas` 中添加了細節還原信息 (#1408)
- 支持使用 kpn、kcn 和 kbn 的 Docker 執行守護進程 \*#1476)
- 已添加用於顯示二進制版本的常量指標（#1488）

### 修復

- 修正了跟蹤器，以處理內部 Insta 失敗 (#1352)
- 在 HandleGovernanceVote 中 checkVote() 失敗時刪除投票 (#1367)
- 修正了 multiChannelPeer ReadMsg 循環，以立即讀取已關閉的通道（#1389）
- 修正了事務排序中可能出現的緩衝區溢出問題 (#1398)
- 修復了與服務鏈相關的併發 API 調用錯誤 (#1438)
- 增加六個或更少驗證者所需的共識信息 (#1462)
- 將缺失的基尼字段填入 GetStakingInfo 結果 (#1464)
- 修正了快照相關 api 的錯誤返回 (#1468)
- 修正了免費呼叫無價格字段的交易的 DoCall (#1540)
- 增強了跟蹤器輸出轉換邏輯的驗證（#1549）

### 雜項

- 小規模維修（#766 #1157 #1227 #1316 #1362 #1500 #1515）
